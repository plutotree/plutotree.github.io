<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title>Rmarkdown - 标签 - PlutoTree's Blog</title><link>https://plutotree.me/tags/rmarkdown/</link><description>Rmarkdown - 标签 - PlutoTree's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-CN</language><managingEditor>plutotreetree@gmail.com (布鲁树)</managingEditor><webMaster>plutotreetree@gmail.com (布鲁树)</webMaster><lastBuildDate>Sun, 20 Feb 2022 19:30:00 +0800</lastBuildDate><atom:link href="https://plutotree.me/tags/rmarkdown/" rel="self" type="application/rss+xml"/><item><title>Windows 下 R mardown 入门实战</title><link>https://plutotree.me/2022/02/using-rmarkdown-on-windows/</link><pubDate>Sun, 20 Feb 2022 19:30:00 +0800</pubDate><author>布鲁树</author><guid>https://plutotree.me/2022/02/using-rmarkdown-on-windows/</guid><description><![CDATA[<h2 id="r-基础实战">R 基础实战</h2>
<ul>
<li>
<p>安装比较简单，从<a href="https://cran.r-project.org/" target="_blank" rel="noopener noreffer ">官网</a>下载后执行，可以只选择 x64；</p>
</li>
<li>
<p>使用<code>R Gui</code>执行 R 命令：</p>
<ul>
<li>
<p>运行<code>R Gui</code></p>
</li>
<li>
<p>尝试执行命令：</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-R">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="复制到剪贴板"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="s">&#39;hello world!&#39;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="nf">sqrt</span><span class="p">(</span><span class="m">2</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="n">[1]</span> <span class="m">1.414214</span>
</span></span><span class="line"><span class="cl"><span class="o">&gt;</span> <span class="nf">plot</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">,</span><span class="nf">sqrt</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">))</span></span></span></code></pre></div></div>
</li>
<li>
<p>看下执行效果：</p>
<p></p>
</li>
</ul>
</li>
<li>
<p>使用命令行执行：</p>
<ul>
<li>设置环境变量，将<code>C:\Program Files\R\R-4.1.2\bin\x64</code>添加到<code>PATH</code>中；</li>
<li>命令行指定语句
<ul>
<li>执行<code>rscript.exe -e &quot;sqrt(1:10)&quot;</code>，可以看到命令行能直接输出</li>
<li>执行<code>rscript.exe -e &quot;plot(1:10,sqrt(1:10))&quot;</code>，这时候看不到窗口输出，在当面目录会生成<code>Rplots.pdf</code>文件；</li>
</ul>
</li>
<li>执行文件
<ul>
<li>执行<code>rscript.exe -f &quot;demo.r&quot;</code></li>
</ul>
</li>
</ul>
</li>
<li>
<p>使用命令行执行指定文件：</p>
<ul>
<li>
<p>使用任意编辑器创建文件<code>demo.r</code>，里面内容如下</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-R">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="复制到剪贴板"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-R" data-lang="R"><span class="line"><span class="cl"><span class="nf">print</span><span class="p">(</span><span class="s">&#34;hello world!&#34;</span><span class="p">)</span>
</span></span><span class="line"><span class="cl"><span class="nf">sqrt</span><span class="p">(</span><span class="m">1</span><span class="o">:</span><span class="m">10</span><span class="p">)</span></span></span></code></pre></div></div>
</li>
<li>
<p>执行<code>rscript.exe &quot;demo.r&quot;</code></p>
</li>
</ul>
</li>
</ul>
<h2 id="r-markdown-实战">R markdown 实战</h2>
<h3 id="安装-rmarkdown">安装 Rmarkdown</h3>
<p>启动<code>R gui</code>，然后执行语句<code>install.packages(&quot;rmarkdown&quot;)</code>，执行之后会让选择下载节点；</p>
<h3 id="编写-rmarkdown-文件">编写 Rmarkdown 文件</h3>
<p>使用任意编辑器创建文件<code>demo.rmd</code>，里面内容如下，其实就是 markdown 文件内嵌了 r 语句，这也是 R markdown 的由来</p>
<div class="code-block code-line-numbers open" style="counter-reset: code-block 0">
    <div class="code-header language-markdown">
        <span class="code-title"><i class="arrow fas fa-angle-right fa-fw" aria-hidden="true"></i></span>
        <span class="ellipses"><i class="fas fa-ellipsis-h fa-fw" aria-hidden="true"></i></span>
        <span class="copy" title="复制到剪贴板"><i class="far fa-copy fa-fw" aria-hidden="true"></i></span>
    </div><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-markdown" data-lang="markdown"><span class="line"><span class="cl">---
</span></span><span class="line"><span class="cl">title: &#34;Rmarkdown demo&#34;
</span></span><span class="line"><span class="cl">output: html_document
</span></span><span class="line"><span class="cl">---
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="gu">## 绘图示例
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>
</span></span><span class="line"><span class="cl"><span class="gu">### 函数曲线图
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>
</span></span><span class="line"><span class="cl">``<span class="sb">`{r}
</span></span></span><span class="line"><span class="cl"><span class="sb">curve(sin(x), 0, 2*pi)
</span></span></span><span class="line"><span class="cl"><span class="sb">`</span>`<span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">### 条形图
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">`</span>`<span class="sb">`{r}
</span></span></span><span class="line"><span class="cl"><span class="sb">barplot(c(&#34;男生&#34;=48,&#34;女生&#34;=38), main=&#34;男女生人数&#34;)
</span></span></span><span class="line"><span class="cl"><span class="sb">`</span>`<span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">### 散点图
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">`</span>`<span class="sb">`{r}
</span></span></span><span class="line"><span class="cl"><span class="sb">plot(1:100, sqrt(1:100))
</span></span></span><span class="line"><span class="cl"><span class="sb">`</span>`<span class="sb">`
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">## 汇总统计
</span></span></span><span class="line"><span class="cl"><span class="sb">
</span></span></span><span class="line"><span class="cl"><span class="sb">`</span>`<span class="sb">`{r}
</span></span></span><span class="line"><span class="cl"><span class="sb">data &lt;- read.csv(&#34;taxsamp.csv&#34;)
</span></span></span><span class="line"><span class="cl"><span class="sb">knitr::kable(table(data[[&#39;征收方式&#39;]]))
</span></span></span><span class="line"><span class="cl"><span class="sb">knitr::kable((table(data[[&#39;征收方式&#39;]], data[[&#39;申报渠道&#39;]])))
</span></span></span><span class="line"><span class="cl"><span class="sb">summary(data[[&#39;营业额&#39;]])
</span></span></span><span class="line"><span class="cl"><span class="sb">`</span>``</span></span></code></pre></div></div>
<h3 id="编译-rmarkdown-文件">编译 Rmarkdown 文件</h3>
<p>在命令行下执行语句：<code>Rscript.exe -e &quot;library('rmarkdown');render('demo.rmd')&quot;</code>，可以看到有一段编译过程，中间生成了 demo.knit.md，最后生成了 demo.html</p>
<p></p>
<h3 id="查看-html-文件">查看 html 文件</h3>
<p>查看生成的<code>demo.html</code>，效果如下：</p>
<p></p>
<h2 id="推荐教程">推荐教程</h2>
<ul>
<li><a href="https://www.math.pku.edu.cn/teachers/lidf/docs/Rbook/html/_Rbook/index.html" target="_blank" rel="noopener noreffer ">R 语言教程 by 李东风</a></li>
<li><a href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzI1NjUwMjQxMQ==&amp;action=getalbum&amp;album_id=1684900703049138178&amp;scene=173&amp;from_msgid=2247491318&amp;from_itemidx=1&amp;count=3&amp;nolastread=1#wechat_redirect" target="_blank" rel="noopener noreffer ">庄闪闪的 R 语言手册</a></li>
<li><a href="https://bookdown.org/yihui/bookdown/about-the-author.html" target="_blank" rel="noopener noreffer ">bookdown: Authoring Books and Technical Documents with R Markdown</a></li>
</ul>
]]></description></item></channel></rss>